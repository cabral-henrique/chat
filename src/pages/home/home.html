<ion-header>
  <custom-logged-header [title]="view"></custom-logged-header>
  <ion-toolbar>
    <ion-segment [(ngModel)]="view">
        <ion-segment-button value="Contatinhos">
            Contatinhos
          </ion-segment-button>
      <ion-segment-button value="Chats">
        Chat
      </ion-segment-button>
      <ion-segment-button value="Users">
        Users
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
  <ion-toolbar>
    <ion-searchbar (ionInput)="filterItems($event);">
    </ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content padding>

  <div [ngSwitch]="view">
      <ion-list *ngSwitchCase="'Contatinhos'">
          <button ion-item *ngFor="let item of users" (click)="onChatCreate(item)">
  
            <ion-card>
    
              <img [src]="item.photo || 'assets/images/no-photo.jpg'">
          
              <ion-card-content>
                <ion-card-title>
                  {{ item.name }} 
                </ion-card-title>
                
              </ion-card-content>
          
              <!-- <ion-item>
                <ion-icon name='musical-notes' item-start style="color: #d03e84"></ion-icon>
                Albums
                <ion-badge item-end>9</ion-badge>
              </ion-item>
          
              <ion-item>
                <ion-icon name='logo-twitter' item-start style="color: #55acee"></ion-icon>
                Followers
                <ion-badge item-end>260k</ion-badge>
              </ion-item> -->
          
            </ion-card>
          </button>
          
        </ion-list>


    <ion-list *ngSwitchCase="'Chats'">
      <button ion-item *ngFor="let chat of chats" (click)="onChatOpen(chat)">
        <ion-avatar item-left>
          <img [src]="chat.photo || 'assets/images/no-photo.jpg'">
        </ion-avatar>
        <h2>{{ chat.title }}</h2>
        <p *ngIf="chat.lastMessage">{{ chat.timestamp | date: "dd/MM/y H:mm"}} - {{chat.lastMessage}}</p>
        <p *ngIf="!chat.lastMessage">No messages</p>
      </button>
    </ion-list>

    <ion-list *ngSwitchCase="'Users'">
      <button ion-item *ngFor="let item of users" (click)="onChatCreate(item)">
          <ion-avatar item-left>
              <img [src]="item.photo || 'assets/images/no-photo.jpg'">
            </ion-avatar>
        {{ item.name }}
      </button>
      
    </ion-list>
    
  </div>
</ion-content>